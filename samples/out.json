{
    "datacenter":{
       "dc1":{
          "description":"Main Dataceneter"
       }
    },
    "resource":{
       "consul-cluster":{
          "consul-dc1":{
             "association":[
                {
                   "id":"resource.consul-server.admin1",
                   "type":"contains"
                },
                {
                   "id":"resource.consul-server.admin2",
                   "type":"contains"
                },
                {
                   "id":"resource.consul-server.admin3",
                   "type":"contains"
                }
             ],
             "location":"datacenter.dc1"
          }
       },
       "consul-server":{
          "admin1":{
             "association":[
                {
                   "id":"resource.consul-server.admin1",
                   "type":"egress"
                },
                {
                   "id":"resource.consul-server.admin1",
                   "type":"ingress"
                },
                {
                   "id":"resource.consul-server.admin2",
                   "type":"egress"
                },
                {
                   "id":"resource.consul-server.admin2",
                   "type":"ingress"
                }
             ],
             "location":"datacenter.dc1"
          },
          "admin2":{
             "association":[
                {
                   "id":"resource.consul-server.admin2",
                   "type":"egress"
                },
                {
                   "id":"resource.consul-server.admin2",
                   "type":"ingress"
                },
                {
                   "id":"resource.consul-server.admin3",
                   "type":"egress"
                },
                {
                   "id":"resource.consul-server.admin3",
                   "type":"ingress"
                }
             ],
             "location":"datacenter.dc1"
          },
          "admin3":{
             "association":[
                {
                   "id":"resource.consul-server.admin1",
                   "type":"egress"
                },
                {
                   "id":"resource.consul-server.admin1",
                   "type":"ingress"
                },
                {
                   "id":"resource.consul-server.admin3",
                   "type":"egress"
                },
                {
                   "id":"resource.consul-server.admin3",
                   "type":"ingress"
                }
             ],
             "location":"datacenter.dc1"
          }
       },
       "consul-client":{
          "client1":{
             "association":[
                {
                   "id":"resource.consul-cluster.consul-dc1",
                   "type":"egress"
                },
                {
                   "id":"resource.consul-cluster.consul-dc1",
                   "type":"ingress"
                },
                {
                   "id":"service.log.log1",
                   "type":"contains"
                },
                {
                   "id":"service.auth.auth1",
                   "type":"contains"
                },
                {
                   "id":"service.noty.not1",
                   "type":"contains"
                },
                {
                   "id":"service.web.web1",
                   "type":"contains"
                },
                {
                   "id":"service.store.store1",
                   "type":"contains"
                },
                {
                   "id":"service.payment.pay1",
                   "type":"contains"
                }
             ],
             "location":"datacenter.dc1"
          },
          "client2":{
             "association":[
                {
                   "id":"resource.consul-cluster.consul-dc1",
                   "type":"egress"
                },
                {
                   "id":"resource.consul-cluster.consul-dc1",
                   "type":"ingress"
                },
                {
                   "id":"service.log.log2",
                   "type":"contains"
                },
                {
                   "id":"service.auth.auth2",
                   "type":"contains"
                },
                {
                   "id":"service.noty.not2",
                   "type":"contains"
                },
                {
                   "id":"service.web.web2",
                   "type":"contains"
                },
                {
                   "id":"service.store.store2",
                   "type":"contains"
                },
                {
                   "id":"service.payment.pay2",
                   "type":"contains"
                }
             ],
             "location":"datacenter.dc1"
          },
          "client3":{
             "association":[
                {
                   "id":"resource.consul-cluster.consul-dc1",
                   "type":"egress"
                },
                {
                   "id":"resource.consul-cluster.consul-dc1",
                   "type":"ingress"
                },
                {
                   "id":"service.noty.not3",
                   "type":"contains"
                },
                {
                   "id":"service.web.web3",
                   "type":"contains"
                },
                {
                   "id":"service.store.store3",
                   "type":"contains"
                },
                {
                   "id":"service.payment.pay3",
                   "type":"contains"
                }
             ],
             "location":"datacenter.dc1"
          },
          "client4":{
             "association":[
                {
                   "id":"resource.consul-cluster.consul-dc1",
                   "type":"egress"
                },
                {
                   "id":"resource.consul-cluster.consul-dc1",
                   "type":"ingress"
                },
                {
                   "id":"service.payment.pay4",
                   "type":"contains"
                }
             ],
             "location":"datacenter.dc1"
          },
          "client5":{
             "association":[
                {
                   "id":"resource.consul-cluster.consul-dc1",
                   "type":"egress"
                },
                {
                   "id":"resource.consul-cluster.consul-dc1",
                   "type":"ingress"
                },
                {
                   "id":"service.payment.pay5",
                   "type":"contains"
                }
             ],
             "location":"datacenter.dc1"
          },
          "client6":{
             "association":[
                {
                   "id":"resource.consul-cluster.consul-dc1",
                   "type":"egress"
                },
                {
                   "id":"resource.consul-cluster.consul-dc1",
                   "type":"ingress"
                },
                {
                   "id":"service.db.db1",
                   "type":"contains"
                }
             ],
             "location":"datacenter.dc1"
          },
          "client7":{
             "association":[
                {
                   "id":"resource.consul-cluster.consul-dc1",
                   "type":"egress"
                },
                {
                   "id":"resource.consul-cluster.consul-dc1",
                   "type":"ingress"
                },
                {
                   "id":"service.db.db2",
                   "type":"contains"
                }
             ],
             "location":"datacenter.dc1"
          }
       }
    },
    "service":{
       "service":{
          "db":{
             "db1":{
                "port":5432,
                "meta":{
                   "sofware":"postgres",
                   "role":"primary"
                }
             },
             "db2":{
                "port":5432,
                "meta":{
                   "sofware":"postgres",
                   "role":"secondary"
                }
             }
          },
          "web":{
             "web1":{
                "port":80,
                "address":"localhost",
                "protocol":"https",
                "meta":{
                   "version":1.0,
                   "software":"nginx"
                }
             },
             "web2":{
                "port":80,
                "address":"localhost",
                "protocol":"https",
                "meta":{
                   "version":2,
                   "software":"nginx"
                }
             },
             "web3":{
                "port":80,
                "address":"localhost",
                "protocol":"https"
             }
          },
          "auth":{
             "auth1":{
                "port":55,
                "address":"localhost",
                "meta":{
                   "version":1,
                   "software":"ldap"
                }
             },
             "auth2":{
                "port":55,
                "address":"localhost",
                "meta":{
                   "version":3,
                   "software":"nginx"
                }
             }
          },
          "store":{
             "store1":{
                "port":3000,
                "address":"localhost",
                "meta":{
                   "software":"rails"
                }
             },
             "store2":{
                "port":3000,
                "address":"localhost",
                "meta":{
                   "software":"rails"
                }
             },
             "store3":{
                "port":3100,
                "address":"localhost",
                "meta":{
                   "software":"rails",
                   "role":"primary"
                }
             }
          },
          "log":{
             "log1":{
                "port":7001,
                "address":"localhost",
                "meta":{
                   "sofware":"custom-logger",
                   "role":"primary"
                }
             },
             "log2":{
                "port":8001,
                "address":"localhost",
                "meta":{
                   "software":"custom-logger",
                   "role":"secondary"
                }
             }
          },
          "noty":{
             "not1":{
                "port":8000,
                "address":"localhost"
             },
             "not2":{
                "port":8000,
                "address":"localhost"
             }
          },
          "payment":{
             "pay1":{
                "port":8101,
                "address":"localhost",
                "meta":{
                   "software":"outlook"
                }
             },
             "pay2":{
                "port":8101,
                "address":"localhost",
                "meta":{
                   "sofware":"sms"
                }
             },
             "pay3":{
                "port":8101,
                "address":"localhost",
                "meta":{
                   "software":"whatsapp"
                }
             },
             "pay4":{
                "port":8101,
                "address":"localhost",
                "meta":{
                   "software":"outlook"
                }
             },
             "pay5":{
                "port":8101,
                "address":"localhost",
                "meta":{
                   "software":"outlook"
                }
             }
          }
       }
    }
 }